{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/api.js","components/ImagePopup.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/App.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","useState","card","likes","some","i","_id","liked","setLiked","isOwn","owner","onClick","onCardDelete","type","onCardClick","link","name","onCardLike","likeCounter","Main","onEditAvatar","avatar","onEditProfile","about","onAddCard","cards","map","length","Footer","date","Date","getFullYear","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_responseResult","data","body","JSON","stringify","isLikes","addLike","deleteLike","authorization","ImagePopup","onClose","PopupWithForm","isOpen","id","onSubmit","noValidate","title","children","submitText","AddPlacePopup","buttonText","setButtonText","setName","setLink","handleClosePopup","setTimeout","e","preventDefault","onAddPlace","finally","placeholder","minLength","maxLength","onChange","target","value","required","EditProfilePopup","description","setDescription","useEffect","onUpdateUser","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","App","isEditProfilePopupOpen","setEditProfilePopupOpenClose","isAddCardPopupOpen","setAddCardPopupOpenClose","isEditAvatarPopupOpen","setEditAvatarPopupOpenClose","selectedCard","setSelectedCard","isImagePopupOpen","setIsImagePopupOpen","setCurrentUser","setCards","closeAllPopups","all","getUserData","getInitialCards","userInfo","cardList","catch","err","console","log","Provider","deleteCard","newCard","newCards","filter","c","isLiked","changeLikeCardStatus","updateUserData","result","addNewCard","updateAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8fbc5a84.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from \"react\";\nimport logo from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"лого\" className=\"header__logo\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [liked, setLiked] = React.useState(\n    props.card.likes.some((i) => i._id === currentUser._id)\n  );\n  const isOwn = props.card.owner._id === currentUser._id;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function likeClick() {\n    setLiked(!liked);\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <>\n      <li className=\"card\">\n        <button\n          onClick={handleDeleteClick}\n          className={`card__trash ${isOwn ? \"card__trash_active\" : \"\"}`}\n          type=\"button\"\n        />\n        <img\n          className=\"card__images\"\n          onClick={handleClick}\n          src={props.card.link}\n          alt={props.card.name}\n        />\n        <div className=\"card__item\">\n          <h2 className=\"card__title\">{props.card.name}</h2>\n          <div className=\"card__wrap\">\n            <button\n              className={`card__like ${liked && \"card__like_active\"}`}\n              onClick={likeClick}\n              type=\"button\"\n            ></button>\n            <div className=\"card__count\">{props.likeCounter}</div>\n          </div>\n        </div>\n      </li>\n    </>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  return (\n    <>\n      <section className=\"profile\">\n        <div className=\"profile__item\">\n          <div className=\"profile__item-container\">\n            <img\n              onClick={props.onEditAvatar}\n              src={currentUser.avatar}\n              alt=\"Фото профиля\"\n              className=\"profile__avatar\"\n            />\n          </div>\n          <div className=\"profile_text\">\n            <div className=\"profile__info\">\n              <h1 className=\"profile__title\">{currentUser.name || \"\"}</h1>\n              <button\n                className=\"profile__edit-button\"\n                onClick={props.onEditProfile}\n                type=\"button\"\n              ></button>\n            </div>\n            <p className=\"profile__subtitle\">{currentUser.about || \"\"}</p>\n          </div>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          onClick={props.onAddCard}\n          type=\"button\"\n        ></button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"cards\">\n          {props.cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={props.onCardClick}\n              likeCounter={card.likes.length}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  const date = new Date().getFullYear();\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; {date} Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  _responseResult(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n  getUserData() {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n  addNewCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      }),\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n\n  deleteCard(data) {\n    return fetch(`${this._url}/cards/${data}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n\n  updateUserData(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n\n  changeLikeCardStatus(card, isLikes) {\n    if (isLikes) {\n      return this.addLike(card);\n    } else {\n      return this.deleteLike(card);\n    }\n  }\n\n  addLike(data) {\n    return fetch(`${this._url}/cards/likes/${data}`, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n\n  deleteLike(data) {\n    return fetch(`${this._url}/cards/likes/${data}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n\n  updateAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-17\",\n  headers: {\n    authorization: \"1cc28c27-5ad4-4b72-97ab-db6c8b468da3\",\n    \"content-type\": \"application/json\",\n  },\n});\n\nexport default api;\n","function ImagePopup(props) {\n  return (\n    <div\n      className={`popup__container popup__container_image ${\n        props.card.link && \"popup_opened\"\n      }`}\n    >\n      <figure className=\"popup__image\">\n        <button\n          className=\"popup__close-button popup__close-button_img\"\n          onClick={props.onClose}\n          type=\"button\"\n        ></button>\n        <img\n          className=\"popup__images\"\n          src={`${props.card.link}`}\n          alt={props.card.name}\n        />\n        <figcaption className=\"popup__text\">{props.card.name}</figcaption>\n      </figure>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div\n      className={`popup__container ${props.isOpen && \"popup_opened\"}`}\n      id={props.name}\n    >\n      <form\n        onSubmit={props.onSubmit}\n        className=\"popup__form\"\n        name={props.name}\n        noValidate\n      >\n        <button\n          className=\"popup__close-button\"\n          onClick={props.onClose}\n          type=\"button\"\n        ></button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        {props.children}\n        <button className=\"popup__button\" type=\"submit\">\n          {props.submitText}\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction AddPlacePopup(props) {\n  const [buttonText, setButtonText] = React.useState(\"Создать\");\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n  function handleClosePopup() {\n    props.onClose();\n    setTimeout(() => {\n      setName(\"\");\n      setLink(\"\");\n    }, 200);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setButtonText(\"Создаем...\");\n    props\n      .onAddPlace({ name, link })\n      .then(() => handleClosePopup())\n      .finally(() => {\n        setButtonText(\"Создать\");\n      });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"image_add\"\n      title=\"Новое место\"\n      submitText={buttonText}\n      isOpen={props.isOpen}\n      onClose={handleClosePopup}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__field\">\n        <input\n          type=\"text\"\n          className=\"popup__input popup__input_type_name-image\"\n          id=\"image-name-input\"\n          name=\"name\"\n          placeholder=\"Название\"\n          minLength=\"1\"\n          maxLength=\"30\"\n          onChange={handleNameChange}\n          value={name}\n          required\n        />\n        <span className=\"popup__input-error\" id=\"image-name-input-error\"></span>\n      </label>\n      <label className=\"popup__field\">\n        <input\n          type=\"url\"\n          className=\"popup__input popup__input_type_prof-link\"\n          id=\"image-source-input\"\n          name=\"link\"\n          placeholder=\"Ссылка на картинку\"\n          onChange={handleLinkChange}\n          value={link}\n          required\n        />\n        <span\n          className=\"popup__input-error\"\n          id=\"image-source-input-error\"\n        ></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const [buttonText, setButtonText] = React.useState(\"Сохранить\");\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleAboutChange(e) {\n    setDescription(e.target.value);\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    setButtonText(\"Загрузка...\");\n    props\n      .onUpdateUser({ name: name, about: description })\n      .then(() => props.onClose())\n      .finally(() => {\n        setButtonText(\"Сохранить\");\n      });\n  }\n\n  React.useEffect(() => {\n    if (props.isOpen === true) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    } // eslint-disable-next-line\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"form\"\n      title=\"Редактировать профиль\"\n      submitText={buttonText}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__field\">\n        <input\n          className=\"popup__input popup__input_type_name\"\n          type=\"text\"\n          name=\"name\"\n          id=\"profile-name\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          value={name}\n          onChange={handleNameChange}\n          required\n        />\n        <span className=\"popup__input-error\" id=\"profile-name-error\"></span>\n      </label>\n      <label className=\"popup__field\">\n        <input\n          className=\"popup__input popup__input_type_prof\"\n          type=\"text\"\n          name=\"description\"\n          id=\"profile-prof\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          value={description}\n          onChange={handleAboutChange}\n          required\n        />\n        <span className=\"popup__input-error\" id=\"profile-prof-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import PopupWithForm from \"./PopupWithForm.js\";\nimport React from \"react\";\n\nfunction EditAvatarPopup(props) {\n  const [buttonText, setButtonText] = React.useState(\"Сохранить\");\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setButtonText(\"Загрузка...\");\n    props\n      .onUpdateAvatar({ avatar: avatarRef.current.value })\n      .then(() => {\n        handleClosePopup();\n      })\n      .finally(() => {\n        setButtonText(\"Сохранить\");\n      });\n  }\n\n  function handleClosePopup() {\n    props.onClose();\n    setTimeout(() => (avatarRef.current.value = \"\"), 200);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar_add\"\n      title=\"Обновить аватар\"\n      submitText={buttonText}\n      isOpen={props.isOpen}\n      onClose={handleClosePopup}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__field\">\n        <input\n          ref={avatarRef}\n          type=\"url\"\n          className=\"popup__input popup__input_type_avatar-link\"\n          id=\"avatar-source-input\"\n          name=\"avatar\"\n          placeholder=\"Ссылка на картинку\"\n          required\n        />\n        <span\n          className=\"popup__input-error\"\n          id=\"avatar-source-input-error\"\n        ></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport api from \"../utils/api\";\nimport ImagePopup from \"./ImagePopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpenClose] = React.useState(\n    false\n  );\n  const [isAddCardPopupOpen, setAddCardPopupOpenClose] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpenClose] = React.useState(\n    false\n  );\n  const [selectedCard, setSelectedCard] = React.useState({\n    name: \"\",\n    link: \"\",\n  });\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    Promise.all([api.getUserData(), api.getInitialCards()])\n      .then(([userInfo, cardList]) => {\n        setCurrentUser(userInfo);\n        setCards(cardList);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpenClose(!isEditProfilePopupOpen);\n  }\n  function handleAddPlaceClick() {\n    setAddCardPopupOpenClose(!isAddCardPopupOpen);\n  }\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpenClose(!isEditAvatarPopupOpen);\n  }\n\n  function handleImagePopupOpen(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(!isImagePopupOpen);\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpenClose(false);\n    setAddCardPopupOpenClose(false);\n    setEditAvatarPopupOpenClose(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n  }\n\n  function handleUpdateUser(data) {\n    return api\n      .updateUserData(data)\n      .then((result) => {\n        setCurrentUser(result);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(data) {\n    return api\n      .updateAvatar(data)\n      .catch((err) => console.log(err))\n      .then((result) => {\n        setCurrentUser(result);\n      });\n  }\n\n  function handleLikeClick(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n      // Обновляем стейт\n      setCards(newCards);\n    });\n  }\n\n  function handleDeleteClick(card) {\n    api.deleteCard(card._id).then((newCard) => {\n      const newCards = cards.filter((c) => (c._id === card._id ? \"\" : newCard));\n      setCards(newCards);\n    });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    return api\n      .addNewCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          //loader={userInfoGet}\n          onCardClick={handleImagePopupOpen}\n          onEditProfile={handleEditProfileClick}\n          onAddCard={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardDelete={handleDeleteClick}\n          onCardLike={handleLikeClick}\n          cards={cards}\n        />\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddCardPopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        ></EditAvatarPopup>\n\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n        />\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"../src/components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}